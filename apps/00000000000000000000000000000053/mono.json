{
    "appId": "00000000000000000000000000000053",
    "name": "TruckShop",
    "routes": {
        "/": "layout"
    },
    "domains": [
        "truckshop.jillix.net",
        "truckshop.mono.ch"
    ],
    "publicDir": "public",
    "publicUser": 0,
    "users": [
        {
            "id": 0,
            "username": "",
            "password": "",
            "roles": [0]
        }
    ],
    "roles": [
        {
            "id": 0,
            "name": ""
        }
    ],
    "datasources": {
        "categoriesDS": {
            "type": "mongo",
            "db": "truckshop",
            "collection": "categories"
        },
        "articlesDS": {
            "type": "mongo",
            "db": "truckshop",
            "collection": "articles"
        }
    },
    "miids": {
        "layout": {
            "module": "github/adioo/layout/v0.0.4",
            "roles": [0],
            "config": {
                "html": {
                    "type": "a",
                    "path": "html/layout"
                },
                "css": ["/css/bootstrap.css", "/css/font-awesome.css", "/css/overwrite.css", "/css/bootstrap-responsive.css"],
                "title": "Derendinger TruckShop",
                "modules": {
                    "filterContainer": "filters",
                    "sideNavContainer": "categories",
                    "articleContainer": "articles",
                    "detailContainer": "details",
                    "cartContainer": "cart"
                },
                "scripts": [
                    "/js/bootstrap-collapse.js"
                ]
            }
        },
        "filters": {
            "module": "github/jillix/filters/v0.0.1",
            "roles": [0],
            "config": {
                "html": {
                    "type": "a",
                    "path": "html/filters"
                },
                "listen": {
                    "categories": {
                        "selectionChanged": [
                            { "handler": "mergeCategoryFilter" }
                        ]
                    }
                }
            }
        },
        "categories": {
            "module": "github/adioo/bind-list/v0.1.0",
            "roles": [0],
            "config": {
                "html": {
                    "type": "a",
                    "path": "html/categories"
                },
                "template": {
                    "type": "selector",
                    "value": ".template",
                    "binds": [
                        {
                            "on": [{
                                "name": "click",
                                "handler": "selectItem"
                            }]
                        },
                        {
                            "attr": [
                                {
                                    "name": "id",
                                    "value": {
                                        "source": "id"
                                    }
                                }
                            ]
                        },
                        {
                            "target": ".text",
                            "html": {
                                "source": "name"
                            },
                            "attr": [
                                {
                                    "name": "href",
                                    "value": {
                                        "source": "id"
                                    }
                                }
                            ]
                        }
                    ]
                },
                "container": ".categories",
                "options": {
                    "autofetch": true,
                    "selection": "single",
                    "classes": {
                        "selected": "active"
                    }
                },
                "controls": {
                    "add": ".create",
                    "delete": ".delete"
                }
            },
            "operations": {
                "create": {
                    "roles": [0],
                    "params": [{ "ds": "categoriesDS" }]
                },
                "read": {
                    "roles": [0],
                    "params": [{ "ds": "categoriesDS" }]
                },
                "update": {
                    "roles": [0],
                    "params": [{ "ds": "categoriesDS" }]
                },
                "remove": {
                    "roles": [0],
                    "params": [{ "ds": "categoriesDS" }]
                }
            }
        },
        "articles": {
            "module": "github/adioo/bind-list/v0.1.0",
            "roles": [0],
            "config": {
                "html": {
                    "type": "a",
                    "path": "html/articles"
                },
                "template": {
                    "type": "selector",
                    "value": ".template",
                    "binds": [
                        {
                            "on": [{
                                "name": "click",
                                "handler": "hide",
                                "emit": "viewArticleDetails"
                            }]
                        },
                        {
                            "attr": [
                                {
                                    "name": "id",
                                    "value": {
                                        "source": "id"
                                    }
                                }
                            ]
                        },
                        {
                            "target": ".description",
                            "html": {
                                "source": "description"
                            }
                        },
                        {
                            "target": ".netto",
                            "html": {
                                "source": "netto"
                            }
                        },
                        {
                            "target": ".brutto",
                            "html": {
                                "source": "brutto"
                            }
                        },
                        {
                            "target": ".caption",
                            "html": {
                                "source": "name"
                            }
                        }
                    ]
                },
                "container": ".articles",
                "options": {
                    "selection": "none"
                },
                "listen": {
                    "filters": {
                        "filterChanged": [
                            { "handler": "show" },
                            { "handler": "read" }
                        ]
                    },
                    "details": {
                        "backToArticleList": [
                            { "handler": "show" }
                        ]
                    }
                }
            },
            "operations": {
                "create": {
                    "roles": [0],
                    "params": [{ "ds": "articlesDS" }]
                },
                "read": {
                    "roles": [0],
                    "params": [{ "ds": "articlesDS" }]
                },
                "update": {
                    "roles": [0],
                    "params": [{ "ds": "articlesDS" }]
                },
                "remove": {
                    "roles": [0],
                    "params": [{ "ds": "articlesDS" }]
                }
            }
        },
        "details": {
            "module": "github/adioo/bind-html/v0.1.0",
            "roles": [0],
            "config": {
                "html": {
                    "type": "a",
                    "path": "html/details"
                },
                "scripts": [
                    "/js/bootstrap-carousel.js"
                ],
                "template": {
                    "type": "selector",
                    "value": ".template",
                    "binds": [
                        {
                            "target": ".addToCart",
                            "on": [{
                                "name": "click",
                                "emit": "addToCart"
                            }]
                        },
                        {
                            "target": ".description",
                            "html": {
                                "source": "description"
                            }
                        },
                        {
                            "target": ".netto",
                            "html": {
                                "source": "netto"
                            }
                        },
                        {
                            "target": ".brutto",
                            "html": {
                                "source": "brutto"
                            }
                        },
                        {
                            "target": ".caption",
                            "html": {
                                "source": "name"
                            }
                        }
                    ]
                },
                "options": {
                    "hidden": true
                },
                "binds": [
                    {
                        "target": ".back",
                        "on": [{
                            "name": "click",
                            "handler": "hide",
                            "emit": "backToArticleList"
                        }]
                    }
                ],
                "listen": {
                    "articles": {
                        "viewArticleDetails": [
                            { "handler": "show" },
                            { "handler": "update" }
                        ]
                    },
                    "filters": {
                        "filterChanged": [
                            { "handler": "hide" }
                        ]
                    }
                }
            }
        },
        "cart": {
            "module": "github/adioo/bind-list/v0.1.0",
            "roles": [0],
            "config": {
                "html": {
                    "type": "a",
                    "path": "html/cart"
                },
                "template": {
                    "type": "selector",
                    "value": ".template",
                    "binds": [
                        {
                           "target": ".close",
                            "on": [{
                                "name": "click",
                                "handler": "removeItem"
                            }]
                        },
                        {
                            "attr": [
                                {
                                    "name": "id",
                                    "value": {
                                        "source": "id"
                                    }
                                }
                            ]
                        },
                        {
                            "target": ".netto",
                            "html": {
                                "source": "netto"
                            }
                        },
                        {
                            "target": ".caption",
                            "html": {
                                "source": "name"
                            }
                        }
                    ]
                },
                "container": ".cartList",
                "options": {
                    "type": ["memory", "cookie", "server"]
                },
                "listen": {
                    "details": {
                        "addToCart": [
                            { "handler": "createItem" }
                        ]
                    }
                }
            },
            "operations": {
                "create": {
                    "roles": [0],
                    "params": [{ "ds": "articlesDS" }]
                },
                "read": {
                    "roles": [0],
                    "params": [{ "ds": "articlesDS" }]
                },
                "update": {
                    "roles": [0],
                    "params": [{ "ds": "articlesDS" }]
                },
                "remove": {
                    "roles": [0],
                    "params": [{ "ds": "articlesDS" }]
                }
            }
        }
    }
}

