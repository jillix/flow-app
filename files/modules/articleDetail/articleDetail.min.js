this.init=function(a){var h=this,c=N.dom.findOne(a.show,this.inst.dom),d=N.dom.findOne(a.hide,this.inst.dom),e=N.dom.findOne(a.back,this.inst.dom),f=N.dom.findOne(a.number,this.inst.dom),i={},g={};if(a.fields)for(var b in a.fields)if(i[b]=a.fields[b],a.fields[b].selector)a.fields[b].selector=N.dom.find(a.fields[b].selector,this.inst.dom);this.obs.l("showDetail",function(a){g=a;d.style.display="none";c.style.display="block";f.value=1;h.bind(i,a)});a.hideEvent&&this.inst.obs.l(a.hideEvent,function(){c.style.display="none";d.style.display="block"});e.bind("click",function(){c.style.display="none";d.style.display="block"});a.addToCart&&this.inst[a.addToCart.view]&&(e=N.dom.findOne(a.addToCart.selector,this.inst.dom))&&e.bind(a.addToCart.event||"click",function(){g.number=parseInt(f.value,10)||1;h.inst[a.addToCart.view].obs.f(a.addToCart.fire,g);f.value=1})};